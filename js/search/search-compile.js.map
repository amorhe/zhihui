{"version":3,"sources":["search.js"],"names":[],"mappings":"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","file":"search-compile.js","sourcesContent":["let app = new Vue({\r\n    el: \"#app\",\r\n    data: {\r\n        historysearchList: '',\r\n        search_key: '',\r\n        hotSearchList: [],\r\n        shopList: [],\r\n        page: 1,\r\n        longitude_latitude: '',\r\n        allLoaded: true,\r\n        loading: false,//判断是否加载数据\r\n        loading_more: true,//控制是否发送ajax请求\r\n    },\r\n    methods: {\r\n        back() {\r\n            history.go(-1)\r\n        },\r\n        goTo(url, id, longitude_latitude, status) {\r\n            location.assign(`${url}?id=${id}&longitude_latitude=${longitude_latitude}&status=${status}`)\r\n        },\r\n        goToSearch(search_key) {\r\n            if (search_key === '') {\r\n                this.$message({\r\n                    message: '搜索条件不能为空',\r\n                    type: 'error',\r\n                })\r\n                return\r\n            }\r\n            location.assign(`./searchResult.html?search_key=${search_key}`)\r\n        },\r\n        GetQueryString(name) {\r\n            let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\r\n            let r = window.location.search.substr(1).match(reg);\r\n            if (r != null) return unescape(r[2]);\r\n            return null;\r\n        },\r\n\r\n        async getHotSearchList() {\r\n            let result = await hotSearchList()\r\n            if (result.code === 0) {\r\n                alert(result.message)\r\n            }\r\n            if (result.code === 1) {\r\n                console.log(result.data)\r\n                this.hotSearchList = result.data\r\n            }\r\n        },\r\n        async getHistorySearchList() {\r\n            let uid = localStorage.uid\r\n            let result = await historySearchList(uid)\r\n            if (result.code === 0) {\r\n                alert(result.message)\r\n            }\r\n            if (result.code === 1) {\r\n                console.log(result.data)\r\n                this.historysearchList = result.data\r\n            }\r\n        },\r\n        async deleteHistoryList() {\r\n            let uid = localStorage.uid\r\n            let result = await deleteHistory(uid)\r\n            if (result.code === 0) {\r\n                alert(result.message)\r\n            }\r\n            if (result.code === 1) {\r\n                console.log(result.data)\r\n                window.history.go(0)\r\n            }\r\n        }\r\n\r\n    },\r\n    mounted() {\r\n        //路由拦截。。。\r\n        // if (!localStorage.longitude_latitude) {\r\n        //     location.assign('./index.html')\r\n        // }\r\n\r\n        setTimeout(() => {\r\n            this.getHotSearchList()\r\n            this.getHistorySearchList()\r\n        })\r\n\r\n    },\r\n})\r\n"]}