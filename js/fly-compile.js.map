{"version":3,"sources":["fly.js"],"names":[],"mappings":"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","file":"fly-compile.js","sourcesContent":["// 添加请求拦截器\r\nlet form_data = new FormData();\r\nlet loading\r\n\r\nfunction makeFormData(obj, form_data) {\r\n    const data = [];\r\n    if (obj instanceof File) {\r\n        data.push({key: \"\", value: obj});\r\n    }\r\n    else if (obj instanceof Array) {\r\n        for (var j = 0, len = obj.length; j < len; j++) {\r\n            var arr = makeFormData(obj[j]);\r\n            for (var k = 0, l = arr.length; k < l; k++) {\r\n                var key = !!form_data ? j + arr[k].key : \"[\" + j + \"]\" + arr[k].key;\r\n                data.push({key: key, value: arr[k].value})\r\n            }\r\n        }\r\n    }\r\n    else if (typeof obj == 'object') {\r\n        for (var j in obj) {\r\n            var arr = makeFormData(obj[j]);\r\n            for (var k = 0, l = arr.length; k < l; k++) {\r\n                var key = !!form_data ? j + arr[k].key : \"[\" + j + \"]\" + arr[k].key;\r\n                data.push({key: key, value: arr[k].value})\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        data.push({key: \"\", value: obj});\r\n    }\r\n    if (!!form_data) {\r\n        // 封装\r\n        for (var i = 0, len = data.length; i < len; i++) {\r\n            form_data.append(data[i].key, data[i].value)\r\n        }\r\n    }\r\n    else {\r\n        return data;\r\n    }\r\n}\r\n\r\nfly.interceptors.request.use((request) => {\r\n    // 给所有请求添加自定义header\r\n    // request.headers['X-Tag'] = 'flyio'\r\n    // request.headers['Content-Type'] = 'application/json'\r\n    // 打印出请求体\r\n    // console.log(request.body)\r\n    // 终止请求\r\n    // var err=new Error(\"xxx\")\r\n    // err.request=request\r\n    // return Promise.reject(new Error(\"\"))\r\n\r\n    // 可以显式返回request, 也可以不返回，没有返回值时拦截器中默认返回request\r\n    loading = app.$loading({\r\n        lock: true,\r\n        text: 'Loading',\r\n        spinner: 'el-icon-loading',\r\n        background: 'rgba(0, 0, 0, 0.7)'\r\n    });\r\n    //路由拦截\r\n    if(localStorage.uid === 'null'){\r\n        location.assign('https://shop.zhihuimall.com.cn/app/index.php?i=1604&c=entry&mid=8811&do=shop&m=vslai_shop')\r\n    }\r\n    return request\r\n})\r\n\r\n// 添加响应拦截器，响应拦截器会在then/catch处理之前执行\r\nfly.interceptors.response.use(\r\n    (response) => {\r\n        // 只将请求结果的data字段返回\r\n        // wx.hideLoading()\r\n        loading.close()\r\n        return response\r\n    }, (err) => {\r\n        loading.close()\r\n        // 发生网络错误后会走到这里\r\n        // wx.showToast({\r\n        //     title: '请求超时',\r\n        //     icon: 'none'\r\n        // })\r\n        // return Promise.resolve(\"ssss\")\r\n    }\r\n)\r\n\r\nfunction ajax(url, data = {}, type) {\r\n    return new Promise(function (resolve, reject) {\r\n        // 执行异步ajax请求\r\n        let promise\r\n        if (type === 'GET') {\r\n            // 准备url query参数数据\r\n            let dataStr = '' // 数据拼接字符串\r\n            Object.keys(data).forEach(key => {\r\n                dataStr += key + '=' + data[key] + '&'\r\n            })\r\n            if (dataStr !== '') {\r\n                dataStr = dataStr.substring(0, dataStr.lastIndexOf('&'))\r\n                url = url + '?' + dataStr\r\n            }\r\n            // 发送get请求\r\n            promise = fly.get(url)\r\n        } else {\r\n            // 发送post请求\r\n            makeFormData(data, form_data)\r\n            promise = fly.post(url, form_data)\r\n        }\r\n        promise.then(function (response) {\r\n            // 成功了调用resolve()\r\n            resolve(response.data)\r\n        }).catch(function (error) {\r\n            // 失败了调用reject()\r\n            reject(error)\r\n        })\r\n    })\r\n}\r\n\r\n\r\n\r\n// const ImgBaseUrl ='http://192.168.1.21'\r\nconst ImgBaseUrl ='https://shop.zhihuimall.com.cn:443/zhihuishop/public'\r\n// const Base_url = 'http://192.168.1.21'\r\nconst Base_url = 'https://shop.zhihuimall.com.cn:443/zhihuishop/public/index.php'\r\n\r\n//获取权限\r\nconst wxConfig = (url) => ajax(Base_url + '/api/allaccesstoken/tokenlist',{url})\r\n//获取当前地址\r\nconst districts = (longitude_latitude) => ajax(Base_url + '/api/allaccesstoken/longlat',{longitude_latitude})\r\n\r\n\r\n//所有轮播\r\n//列表广告\r\nconst bannerList = () => ajax(Base_url + '/api/allbanner/bannerlist')\r\n\r\n//优惠相关\r\n//优惠底层图片和文案\r\nconst discountList = () => ajax(Base_url + '/api/alldiscount/discountlist')\r\n//今日钜惠\r\nconst todayDiscountList = (longitude_latitude, page) => ajax(Base_url + '/api/alldiscount/todydiscountlist', {longitude_latitude, page})\r\n//很优惠\r\nconst firmDiscountList = (longitude_latitude, page) => ajax(Base_url + '/api/alldiscount/firmdiscountlist', {longitude_latitude, page})\r\n//优惠信息\r\nconst informationDiscountList = (longitude_latitude, page) => ajax(Base_url + '/api/alldiscount/informationdiscountlist', {longitude_latitude, page})\r\n\r\n//商家二维码\r\n//商家二维码\r\nconst storeImg = (uid,longitude_latitude) => ajax(Base_url + '/api/allstoreimg/storeimglist',{uid,longitude_latitude},\"GET\")\r\n//判断否是商家\r\nconst isaShop = (uid) => ajax(Base_url + '/api/allstoreimg/isashop',{uid},\"GET\")\r\n\r\n//需求发布\r\n//需求发布\r\nconst newsAdd = (uid,content) => ajax(Base_url + '/api/allnews/newsadd',{uid,content})\r\n\r\n\r\n//搜索展示\r\n//热搜\r\nconst hotSearchList = () => ajax(Base_url + '/api/allsearch/hotsearchlist')\r\n//套餐搜索\r\nconst shopGoodsSearchList =  (search_key,longitude_latitude,uid) => ajax(Base_url + '/api/allsearch/shopgoodssearchlist',{search_key,longitude_latitude,uid})\r\n//搜索历史\r\nconst historySearchList = (uid) => ajax(Base_url + '/api/allsearch/historysearchlist',{uid})\r\n//删除搜索历史\r\nconst deleteHistory = (uid) => ajax(Base_url + '/api/allsearch/delhistorysearchlist',{uid});\r\n\r\n//所有分类\r\n//分类\r\nconst shopCatelist = () => ajax(Base_url + '/api/allshopcate/shopcatelist')\r\n\r\n\r\n//店铺套餐\r\n//套餐\r\nconst allShopGoodList = (store_id,longitude_latitude,status) => ajax(Base_url + '/api/allshopgoods/shopgoodslist',{store_id,longitude_latitude,status})\r\n\r\n//智能排序\r\n//排序\r\nconst allSort = (sort_status, longitude_latitude, page) => ajax(Base_url + '/api/allsort/sortlist', {sort_status, longitude_latitude, page})\r\n\r\n//分类下的店铺\r\n//店铺列表\r\nconst storeList = (shopcate_id, longitude_latitude, page) => ajax(Base_url + '/api/allstore/storelist', {shopcate_id, longitude_latitude, page})\r\n//小编推荐\r\nconst recommendList = (longitude_latitude) => ajax(Base_url + '/api/allstore/recommendlist', {longitude_latitude})\r\n//小编更多推荐\r\nconst MoreRecommendList = (longitude_latitude,page) => ajax(Base_url + '/api/allstore/morerecommendlist',{longitude_latitude,page})\r\n//商家推荐列表\r\nconst shopGoodList = (longitude_latitude) => ajax(Base_url + '/api/allstore/shopgoodslist', {longitude_latitude})\r\n//更多商家推荐列表\r\nconst moreShopGoodsList = (longitude_latitude,page) => ajax(Base_url + '/api/allstore/moreshopgoodslist',{longitude_latitude,page})\r\n\r\n\r\n// 初始化\r\nvar vConsole = new VConsole();\r\nconsole.log('Hello world');\r\n\r\n"]}