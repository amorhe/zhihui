{"version":3,"sources":["application.js"],"names":[],"mappings":"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","file":"application-compile.js","sourcesContent":["let jssdkconfig\r\n\r\nfunction getBase64Image(imgElem) {\r\n    return imgElem.replace(/^data:image\\/(jpeg|jpg);base64,/, \"\");\r\n}\r\n\r\nlet app = new Vue({\r\n    el: '#app',\r\n    data: {\r\n        shop_name: '',\r\n        master_name: '',\r\n        telephone: '',\r\n        idCard: '',\r\n        address: '',\r\n        jssdkconfig: '',\r\n        localId: {\r\n            front: '',\r\n            back: '',\r\n            card: '',\r\n        }\r\n    },\r\n    methods: {\r\n        async getWxConfig() {\r\n\r\n            let that = this\r\n            let url = window.location.href\r\n            console.log(url)\r\n\r\n            let result = await wxConfig(url)\r\n            result = JSON.parse(result.data)\r\n            this.jssdkconfig = result\r\n            console.log(result)\r\n            jssdkconfig = this.jssdkconfig\r\n\r\n            wx.config({\r\n                debug: false,\r\n                appId: jssdkconfig.appId,\r\n                timestamp: jssdkconfig.timestamp,\r\n                nonceStr: jssdkconfig.nonceStr,\r\n                signature: jssdkconfig.signature,\r\n                jsApiList: [\r\n                    'getLocation',\r\n                    'chooseImage',\r\n                    'uploadImage',\r\n                ]\r\n            });\r\n\r\n            wx.ready(function () {\r\n                wx.getLocation({\r\n                    type: 'wgs84', // 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'\r\n                    success: function (res) {\r\n                        console.log(JSON.stringify(res))\r\n                        // console.log(localStorage.jsdk)\r\n                        var latitude = res.latitude; // 纬度，浮点数，范围为90 ~ -90\r\n                        var longitude = res.longitude; // 经度，浮点数，范围为180 ~ -180。\r\n                        localStorage.longitude_latitude = longitude + ',' + latitude\r\n                        that.longitude_latitude = longitude + ',' + latitude\r\n                        localStorage.setItem('longitude_latitude', that.longitude_latitude)\r\n                    }\r\n                });\r\n            })\r\n            wx.error(function (res) {\r\n                console.log(`err:${res}`)\r\n            });\r\n\r\n        },\r\n        chooseImage(which) {\r\n            let images = {\r\n                localId: [],\r\n                serverId: []\r\n            };\r\n            wx.chooseImage({\r\n                count: 1,//设置一次能选择的图片的数量\r\n                sizeType: ['original', 'compressed'],//指定是原图还是压缩,默认二者都有\r\n                sourceType: ['album', 'camera'],//可以指定来源是相册还是相机,默认二者都有\r\n                success: (res) => {\r\n                    images.localId = res.localIds;\r\n                    this.localId[which] = res.localIds[0];\r\n                    alert(JSON.stringify(this.localId))\r\n                }\r\n            });\r\n        },\r\n        upLoadImg(event, which) {\r\n            console.log(event);\r\n            var formData = new FormData();\r\n            formData.append(\"file\", event.target.files[0]);\r\n            $.ajax({\r\n                url: 'https://shop.zhihuimall.com.cn:443/zhihuishop/public/index.php/api/allarea/uploadimg',\r\n                type: 'POST',\r\n                data: formData,\r\n                cache: false,\r\n                contentType: false,    //不可缺\r\n                processData: false,    //不可缺\r\n                success: (res) => {\r\n                    console.log(res.data)\r\n                    this.localId[which] = res.data;\r\n                    alert(JSON.stringify(this.localId))\r\n                }\r\n            });\r\n\r\n            // var input = event.target;\r\n            // var reader = new FileReader();\r\n            // reader.onload = function () {\r\n            //     alert(reader)\r\n            //     // var database64 = getBase64Image(reader.result);\r\n            //     $.ajax({\r\n            //         url: Base_url + '/api/allarea/uploadimg',\r\n            //         type: \"POST\",\r\n            //         dataType:'',\r\n            //         data: {\"url\": reader.result},\r\n            //         success: function (data) {\r\n            //             var url = data[\"data\"];\r\n            //             $(\"#user_img\").attr(\"src\", url);\r\n            //             alert(data)\r\n            //         }\r\n            //     });\r\n            // };\r\n            // reader.readAsDataURL(input.files[0]);\r\n        }\r\n    },\r\n    created() {\r\n        setTimeout(() => {\r\n            this.getWxConfig()\r\n        }, 100)\r\n    },\r\n})\r\n"]}