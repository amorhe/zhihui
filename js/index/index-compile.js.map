{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compile.js","sourcesContent":["let app = new Vue({\r\n    el: \"#app\",\r\n    data: {\r\n        dialogFormVisible: false,\r\n        form: {\r\n            name: '',\r\n        },\r\n        isshop:'',\r\n        addnews: \"\",\r\n        storeImg: '',\r\n        jssdkconfig: '',\r\n        baseImgUrl: ImgBaseUrl,\r\n        banner: [],\r\n        shopCateListData: [],\r\n        recommendList: [],\r\n        shopGoodList: [],\r\n        discountList: [],\r\n        allSortList: [],\r\n        sort_status: 1,\r\n        sortPage: 1,\r\n        index_foot: [1, 0, 0],\r\n        address: '',\r\n        allLoaded: true,\r\n        loading: false,//判断是否加载数据\r\n        loading_more: true,//控制是否发送ajax请求\r\n    },\r\n    computed: {\r\n        cate() {\r\n            let arr = []\r\n            let arr2 = []\r\n            if (this.shopCateListData) {\r\n                this.shopCateListData.forEach(c => {\r\n                    if (arr2.length === 8) {\r\n                        arr2 = []\r\n                    }\r\n                    if (arr2.length === 0) {\r\n                        arr.push(arr2)\r\n                    }\r\n                    arr2.push(c)\r\n                })\r\n            }\r\n            return arr\r\n        }\r\n    },\r\n    methods: {\r\n        handleCommand(command) {\r\n            if (command === 'getStoreListImg') {\r\n                this.getStoreListImg()\r\n            } else if (command === 'open3') {\r\n                this.open3()\r\n            } else {\r\n                this.goToApp()\r\n            }\r\n\r\n        },\r\n        goToSearch() {\r\n            location.assign('./search.html')\r\n        },\r\n        goToApp() {\r\n            location.assign('./application.html')\r\n        },\r\n        GetQueryString(name) {\r\n            let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\r\n            let r = window.location.search.substr(1).match(reg);\r\n            if (r != null) return unescape(r[2]);\r\n            return null;\r\n        },\r\n        async getCitySearchList(){\r\n            let result = await citySearchList(area)\r\n            console.log(result);\r\n            localStorage.area_id = result.data.id\r\n        },\r\n        async getIsShop() {\r\n            let uid = localStorage.uid\r\n            let result = await isaShop(uid)\r\n            console.log(result)\r\n            this.isshop = result.code\r\n        },\r\n        async getWxConfig() {\r\n\r\n            let that = this\r\n            let url = window.location.href\r\n            console.log(url)\r\n\r\n            let result = await wxConfig(url)\r\n            result = JSON.parse(result.data)\r\n            jssdkconfig = result\r\n            console.log(result)\r\n\r\n            wx.config({\r\n                debug: false,\r\n                appId: jssdkconfig.appId,\r\n                timestamp: jssdkconfig.timestamp,\r\n                nonceStr: jssdkconfig.nonceStr,\r\n                signature: jssdkconfig.signature,\r\n                jsApiList: [\r\n                    'getLocation',\r\n                ]\r\n            });\r\n\r\n            wx.ready(function () {\r\n                wx.getLocation({\r\n                    type: 'wgs84', // 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'\r\n                    success: function (res) {\r\n                        console.log(JSON.stringify(res))\r\n                        // console.log(localStorage.jsdk)\r\n                        var latitude = res.latitude; // 纬度，浮点数，范围为90 ~ -90\r\n                        var longitude = res.longitude; // 经度，浮点数，范围为180 ~ -180。\r\n                        localStorage.longitude_latitude = longitude + ',' + latitude\r\n                        that.getRecommendList(longitude_latitude);\r\n                        that.getShopGoodList(longitude_latitude);\r\n                        that.getAllSort(1, longitude_latitude, 1)\r\n                        that.getDistrict(longitude_latitude)\r\n                    }\r\n                });\r\n            })\r\n            wx.error(function (res) {\r\n                console.log(`err:${res}`)\r\n            });\r\n\r\n        },\r\n        async getStoreListImg() {\r\n            let result = await storeImg(uid, longitude_latitude)\r\n            console.log(result)\r\n            this.storeImg = result.data\r\n        },\r\n        async addNews(content) {\r\n            if (content === \"\") {\r\n                this.$message({\r\n                    message: '需求不能为空',\r\n                    type: 'error',\r\n                    duration: 1000\r\n                })\r\n                return\r\n            }\r\n            let uid = localStorage.uid\r\n            let result = await newsAdd(uid, content)\r\n            if (result.code === 1) {\r\n                this.$message({\r\n                    message: result.message,\r\n                    type: 'success',\r\n                    duration: 1000\r\n                })\r\n            }\r\n\r\n            this.dialogFormVisible = false\r\n            console.log(result)\r\n        },\r\n        async getBanner() {\r\n            let result = await bannerList()\r\n            this.banner = result.data\r\n            console.log(result)\r\n        },\r\n        async getDistrict() {\r\n            let result = await districts(longitude_latitude)\r\n            this.address = result.result.ad_info.district\r\n            localStorage.area = this.address\r\n            this.getCitySelectList()\r\n            console.log(result.result.ad_info.district)\r\n        },\r\n        async getShopCateList() {\r\n            let result = await shopCatelist()\r\n            this.shopCateListData = result.data\r\n            console.log(result)\r\n        },\r\n        async getRecommendList() {\r\n            let result = await recommendList(longitude_latitude,area_id)\r\n            if (result.code === 1) {\r\n                this.recommendList = result.data.data\r\n                console.log(result)\r\n            }\r\n        },\r\n        async getShopGoodList() {\r\n            let result = await shopGoodList(longitude_latitude,area_id)\r\n            if (result.code === 1) {\r\n                this.shopGoodList = result.data\r\n                console.log(result)\r\n            }\r\n        },\r\n        async getDiscountList() {\r\n            let result = await discountList()\r\n            if (result.code === 1) {\r\n                console.log(result)\r\n                this.discountList = result.data\r\n            }\r\n        },\r\n        async getAllSort(sort_status,sortPage) {\r\n            this.allLoaded = true\r\n            this.sortPage = 1\r\n            this.index_foot = [0, 0, 0]\r\n            this.index_foot[sort_status - 1] = 1\r\n            this.sort_status = sort_status\r\n            let result = await allSort(sort_status, longitude_latitude, '','' ,sortPage,area_id)\r\n            if (result.code === 1) {\r\n                console.log(result)\r\n                this.allSortList = result.data.data\r\n            }\r\n        },\r\n        async loadingMore() {\r\n            if (this.allLoaded === false) {\r\n                return\r\n            }\r\n            if ($(window).scrollTop() + $(window).height() + 100 >= $(document).height()) {\r\n                // console.log(1)\r\n                this.allLoaded = false\r\n                this.loading = true;\r\n                this.sortPage++;\r\n                let result\r\n                if (this.loading_more) {\r\n                    this.loading_more = false //禁止浏览器发送ajax请求\r\n                    result = await allSort(this.sort_status, longitude_latitude, '','' ,this.sortPage,area_id)\r\n                    if (result.code === 1) {//判断接受是否成功\r\n                        this.loading = false\r\n                        console.log(this.allSortList.length, result.data.total)\r\n                        if (this.allSortList.length === result.data.total) {\r\n                            return\r\n                        } else {\r\n                            this.loading_more = true\r\n                            this.allSortList = [...this.allSortList, ...result.data.data];\r\n                        }\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            this.loading = false\r\n                            this.loading_more = true\r\n                        }, 1000)\r\n                    }\r\n                } else {\r\n                    this.loading = false\r\n                }\r\n            }\r\n        },\r\n        goTo(url, id, status) {\r\n            location.assign(`${url}?id=${id}&status=${status}`)\r\n        },\r\n        goToDetail(i) {\r\n            const url = ['./todaySale.html', './sale.html', './business.html']\r\n            this.goTo(url[i], '',)\r\n        },\r\n        getRequest() {\r\n            var url = window.location.search; //获取url中\"?\"符后的字串\r\n            var theRequest = new Object();\r\n            if (url.indexOf(\"?\") != -1) {\r\n                var str = url.substr(1);\r\n                strs = str.split(\"&\");\r\n                for (var i = 0; i < strs.length; i++) {\r\n                    theRequest[strs[i].split(\"=\")[0]] = decodeURI(strs[i].split(\"=\")[1]);\r\n                }\r\n            }\r\n            return theRequest;\r\n        },\r\n        open3() {\r\n            this.dialogFormVisible = true\r\n        }\r\n    },\r\n    created() {\r\n        setTimeout(() => {\r\n            // let uid = this.GetQueryString('uid')\r\n            // localStorage.uid = uid\r\n            // alert(localStorage.uid)\r\n            this.getIsShop()\r\n            this.getBanner();\r\n            this.getShopCateList();\r\n            this.getDiscountList();\r\n            //定位检测\r\n            if (localStorage.longitude_latitude){\r\n                if(localStorage.area){\r\n                    this.address = localStorage.area\r\n                }\r\n                this.getCitySearchList()\r\n                this.getRecommendList(longitude_latitude);\r\n                this.getShopGoodList(longitude_latitude);\r\n                this.getAllSort(1,this.sortPage)\r\n            }else{\r\n                this.getWxConfig()\r\n            }\r\n\r\n        },100)\r\n    },\r\n\r\n    mounted() {\r\n        //路由拦截\r\n        // if (localStorage.uid === 'null') {\r\n        //     location.assign('https://shop.zhihuimall.com.cn/app/index.php?i=1604&c=entry&mid=8811&do=shop&m=vslai_shop')\r\n        // }\r\n\r\n        let shopCatelist = new Swiper('#shopCatelist', {\r\n            width: innerWidth,\r\n            observer: true,//修改swiper自己或子元素时，自动初始化swiper\r\n            observeParents: true,//修改swiper的父元素时，自动初始化swiper\r\n        })\r\n        let banner = new Swiper('#banner', {\r\n            autoplay: true,\r\n            loop: true,\r\n            pagination: {\r\n                el: '.swiper-pagination',\r\n            },\r\n            width: innerWidth,\r\n            observer: true,//修改swiper自己或子元素时，自动初始化swiper\r\n            observeParents: true,//修改swiper的父元素时，自动初始化swiper\r\n        })\r\n        let recommend = new Swiper('#recommend', {\r\n            freeMode: true,\r\n            slidesPerView: 1.3,\r\n            observer: true,//修改swiper自己或子元素时，自动初始化swiper\r\n            observeParents: true,//修改swiper的父元素时，自动初始化swiper\r\n        })\r\n        let shopGoodList = new Swiper('#shopGoodList', {\r\n            freeMode: true,\r\n            slidesPerView: 1.3,\r\n            observer: true,//修改swiper自己或子元素时，自动初始化swiper\r\n            observeParents: true,//修改swiper的父元素时，自动初始化swiper\r\n        })\r\n    },\r\n})\r\n"]}